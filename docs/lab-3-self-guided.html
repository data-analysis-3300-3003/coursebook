<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>coursebook - 7&nbsp; Introduction</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./lab-3-practice-exercises.html" rel="next">
<link href="./lab-3.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Introduction</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">coursebook</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Welcome</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./unit-overview.html" class="sidebar-item-text sidebar-link">Unit overview</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./software.html" class="sidebar-item-text sidebar-link">Software</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./readings.html" class="sidebar-item-text sidebar-link">Reading</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab-1.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 1</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab-1-practice-exercises.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 1 (practice)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab-2.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 2</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab-2-self-guided.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 2 (self-guided)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab-2-practice-exercises.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 2 (practice)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab-3.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 3</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab-3-self-guided.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">Week 3 (self-guided)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab-3-practice-exercises.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 3 (practice)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab-4.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 4</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab-4-self-guided.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 4 (self-guided)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab-5.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 5</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab-5-self-guided.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 5 (self-guided)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab-6-self-guided.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 6 (self-guided)</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#exploratory-data-analysis" id="toc-exploratory-data-analysis" class="nav-link active" data-scroll-target="#exploratory-data-analysis">Exploratory data analysis</a>
  <ul class="collapse">
  <li><a href="#task" id="toc-task" class="nav-link" data-scroll-target="#task">Task</a></li>
  </ul></li>
  <li><a href="#setup" id="toc-setup" class="nav-link" data-scroll-target="#setup">Setup</a>
  <ul class="collapse">
  <li><a href="#run-the-labs" id="toc-run-the-labs" class="nav-link" data-scroll-target="#run-the-labs">Run the labs</a></li>
  <li><a href="#download-data" id="toc-download-data" class="nav-link" data-scroll-target="#download-data">Download data</a></li>
  <li><a href="#working-in-colab" id="toc-working-in-colab" class="nav-link" data-scroll-target="#working-in-colab">Working in Colab</a></li>
  <li><a href="#import-modules" id="toc-import-modules" class="nav-link" data-scroll-target="#import-modules">Import modules</a></li>
  </ul></li>
  <li><a href="#load-data" id="toc-load-data" class="nav-link" data-scroll-target="#load-data">Load data</a></li>
  <li><a href="#data-summaries" id="toc-data-summaries" class="nav-link" data-scroll-target="#data-summaries">Data summaries</a></li>
  <li><a href="#data-distributions" id="toc-data-distributions" class="nav-link" data-scroll-target="#data-distributions">Data distributions</a></li>
  <li><a href="#subsetting-pandas-dataframes" id="toc-subsetting-pandas-dataframes" class="nav-link" data-scroll-target="#subsetting-pandas-dataframes">Subsetting pandas <code>DataFrame</code>s</a></li>
  <li><a href="#outliers" id="toc-outliers" class="nav-link" data-scroll-target="#outliers">Outliers</a>
  <ul class="collapse">
  <li><a href="#d-histograms" id="toc-d-histograms" class="nav-link" data-scroll-target="#d-histograms">2D histograms</a></li>
  <li><a href="#violin-plots" id="toc-violin-plots" class="nav-link" data-scroll-target="#violin-plots">Violin plots</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-title">Introduction</span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="exploratory-data-analysis" class="level2">
<h2 class="anchored" data-anchor-id="exploratory-data-analysis">Exploratory data analysis</h2>
<p>Exploratory data analysis is an activity where you ……. <em>explore your data</em>. It’s often conducted towards the beginning of a data science or analysis workflow and is an interactive process to build up your familiarity with the data; identify its structure and patterns; spot noise, errors, and missing values; and begin to formulate research questions and hypotheses.</p>
<p>Chapter 7 of R for Data Science <a href="https://r4ds.had.co.nz/exploratory-data-analysis.html" target="_blank">(Wickham and Grolemund, 2017)</a> provides an excellant overview of techniques for exploratory data analysis. They suggest that two questions should guide your initial exploration of datasets:</p>
<ul>
<li>What type of variation occurs within variables?</li>
<li>What type of covariation occurs between variables?</li>
</ul>
<p>A variable is a property or feature of interest that can be measured and a value is the state of the variable when it was measured. Columns in a <code>DataFrame</code> or <code>GeoDataFrame</code> or bands in raster often correspond to variables and cells in a table or pixels in a raster correspond to values for an observation.</p>
<section id="task" class="level3">
<h3 class="anchored" data-anchor-id="task">Task</h3>
<p>Here, you will build on the data visualisation skills from the previous lab to explore crop yield data collected by a harvester in Western Australia. You will use data visualisations and summaries to identify noise or errors in the dataset and remove or clean them. In this lab you will learn to:</p>
<ul>
<li>generate summary tables and descriptive statistics</li>
<li>visualise data distributions</li>
<li>visualise relationships between variables</li>
<li>identify and remove missing or noisy values</li>
</ul>
</section>
</section>
<section id="setup" class="level2">
<h2 class="anchored" data-anchor-id="setup">Setup</h2>
<section id="run-the-labs" class="level3">
<h3 class="anchored" data-anchor-id="run-the-labs">Run the labs</h3>
<p>You can run the labs locally on your machine or you can use cloud environments provided by Google Colab. <strong>If you’re working with Google Colab be aware that your sessions are temporary and you’ll need to take care to save, backup, and download your work.</strong></p>
<p><a href="https://colab.research.google.com/github/data-analysis-3300-3003/colab/blob/main/lab-3-self-guided.ipynb" target="_blank"> <img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"> </a></p>
</section>
<section id="download-data" class="level3">
<h3 class="anchored" data-anchor-id="download-data">Download data</h3>
<p>If you need to download the data for this lab, run the following code snippet.</p>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="st">"week-3"</span> <span class="kw">not</span> <span class="kw">in</span> os.listdir(os.getcwd()):</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    os.system(<span class="st">'wget "https://github.com/data-analysis-3300-3003/data/raw/main/data/week-3.zip"'</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    os.system(<span class="st">'unzip "week-3.zip"'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="working-in-colab" class="level3">
<h3 class="anchored" data-anchor-id="working-in-colab">Working in Colab</h3>
<p>If you’re working in Google Colab, you’ll need to install the required packages that don’t come with the colab environment.</p>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="st">'google.colab'</span> <span class="kw">in</span> <span class="bu">str</span>(get_ipython()):</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">!</span>pip install geopandas</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">!</span>pip install pyarrow</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">!</span>pip install mapclassify</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">!</span>pip install rasterio</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="import-modules" class="level3">
<h3 class="anchored" data-anchor-id="import-modules">Import modules</h3>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import modules</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> rasterio</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.io <span class="im">as</span> pio</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="co"># setup renderer</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="st">'google.colab'</span> <span class="kw">in</span> <span class="bu">str</span>(get_ipython()):</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    pio.renderers.default <span class="op">=</span> <span class="st">"colab"</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    pio.renderers.default <span class="op">=</span> <span class="st">"jupyterlab"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="load-data" class="level2">
<h2 class="anchored" data-anchor-id="load-data">Load data</h2>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the crop yield data</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>crop_yield_data_path <span class="op">=</span> os.path.join(os.getcwd(), <span class="st">"week-3"</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Get a list of crop yield data</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>crop_yield_data_files <span class="op">=</span> os.listdir(crop_yield_data_path)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the geojson files into one GeoDataFrame</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>dfs <span class="op">=</span> []</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> crop_yield_data_files:</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i.endswith(<span class="st">".geojson"</span>):</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Loading file </span><span class="sc">{</span>i<span class="sc">}</span><span class="ss"> into a Geopandas GeoDataFrame"</span>)</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>        tmp_df <span class="op">=</span> gpd.read_file(os.path.join(crop_yield_data_path, i))</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>        dfs.append(tmp_df)</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>gdf <span class="op">=</span> pd.concat(dfs, axis<span class="op">=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Loading file bf66-canola-yield-max-vi_sampled.geojson into a Geopandas GeoDataFrame
Loading file bf66-wheat-yield-max-vi_sampled.geojson into a Geopandas GeoDataFrame</code></pre>
</div>
</div>
</section>
<section id="data-summaries" class="level2">
<h2 class="anchored" data-anchor-id="data-summaries">Data summaries</h2>
<p>An initial data exploration task is to produce summary statistics for the variables in our datasets. Pandas <code>DataFrame</code>s and GeoPandas <code>GeoDataFrame</code>s have a <code>describe()</code> method which generates a <code>DataFrame</code> of summary statistics for each variable.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Describe our DataFrame of crop yield data</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>gdf.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Crop</th>
      <th>Distance</th>
      <th>DryYield</th>
      <th>Easting</th>
      <th>Elevation</th>
      <th>Heading</th>
      <th>Machine</th>
      <th>Moisture</th>
      <th>Northing</th>
      <th>Swathwidth</th>
      <th>WetMass</th>
      <th>gndvi</th>
      <th>ndyi</th>
      <th>SwathWidth</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>9378.000000</td>
      <td>9378.000000</td>
      <td>9378.000000</td>
      <td>9378.000000</td>
      <td>9378.000000</td>
      <td>9378.000000</td>
      <td>9378.000000</td>
      <td>9378.000000</td>
      <td>9.378000e+03</td>
      <td>4038.000000</td>
      <td>9378.000000</td>
      <td>8882.000000</td>
      <td>8882.000000</td>
      <td>5340.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>16.957774</td>
      <td>2.455513</td>
      <td>1.414895</td>
      <td>546672.208986</td>
      <td>268.554916</td>
      <td>173.632758</td>
      <td>1.795372</td>
      <td>9.505673</td>
      <td>6.504030e+06</td>
      <td>11.781128</td>
      <td>1.415163</td>
      <td>0.622946</td>
      <td>0.356913</td>
      <td>11.805181</td>
    </tr>
    <tr>
      <th>std</th>
      <td>10.398867</td>
      <td>0.462722</td>
      <td>1.101763</td>
      <td>566.852415</td>
      <td>5.918522</td>
      <td>126.139642</td>
      <td>0.753388</td>
      <td>1.900786</td>
      <td>4.636923e+02</td>
      <td>1.290750</td>
      <td>1.101775</td>
      <td>0.140566</td>
      <td>0.083516</td>
      <td>1.229728</td>
    </tr>
    <tr>
      <th>min</th>
      <td>5.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>545394.222400</td>
      <td>251.820000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>6.502815e+06</td>
      <td>0.153000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.153000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>5.000000</td>
      <td>2.113000</td>
      <td>0.550000</td>
      <td>546260.116550</td>
      <td>265.050000</td>
      <td>12.825000</td>
      <td>1.000000</td>
      <td>7.800000</td>
      <td>6.503738e+06</td>
      <td>12.000000</td>
      <td>0.550000</td>
      <td>0.559567</td>
      <td>0.323940</td>
      <td>12.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>26.000000</td>
      <td>2.427000</td>
      <td>1.102000</td>
      <td>546762.423800</td>
      <td>269.400000</td>
      <td>180.000000</td>
      <td>2.000000</td>
      <td>9.400000</td>
      <td>6.504071e+06</td>
      <td>12.000000</td>
      <td>1.102000</td>
      <td>0.639549</td>
      <td>0.369079</td>
      <td>12.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>26.000000</td>
      <td>2.842000</td>
      <td>2.136000</td>
      <td>547111.941950</td>
      <td>272.650000</td>
      <td>242.375000</td>
      <td>2.000000</td>
      <td>11.100000</td>
      <td>6.504401e+06</td>
      <td>12.000000</td>
      <td>2.136000</td>
      <td>0.717398</td>
      <td>0.408013</td>
      <td>12.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>26.000000</td>
      <td>3.486000</td>
      <td>23.124000</td>
      <td>547770.485000</td>
      <td>280.060000</td>
      <td>360.000000</td>
      <td>3.000000</td>
      <td>17.500000</td>
      <td>6.504748e+06</td>
      <td>12.000000</td>
      <td>23.124000</td>
      <td>0.836573</td>
      <td>0.545766</td>
      <td>12.000000</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p><code>describe()</code> returns to us a count of the number of observations in a variable, the mean value for observations in a variable, and summary statistics describing the distribution and range of values (standard deviation, percentiles (median = 50th percentile), and min and max values).</p>
<p>However, there are two main groups in our dataset: canola observations and wheat observations denoted by the <code>Variety</code> column. It will be more informative to generate summary statistcs for each group separately. We can do this using the Pandas <code>groupby()</code> function which splits a <code>DataFrame</code> into subsets based upon a grouping variable, computes statistics for each subset, and then combines the results. Here, we need to <code>groupby()</code> <code>Variety</code> to generate summary statistics for each crop type.</p>
<p>We’ll also generate these summary statistics within a context manager (denoted by a <code>with</code> block). This context allows us to change the default display values for a <code>DataFrame</code> only for this context without affecting the global defaults that apply to the rest of the notebook. This is a useful trick in case you have a particular need to control how a <code>DataFrame</code> is displayed (e.g.&nbsp;printing all rows as specified by the <code>display.max_rows</code> option).</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> pd.option_context(<span class="st">"display.max_rows"</span>, <span class="va">None</span>, <span class="st">"display.float_format"</span>, <span class="kw">lambda</span> x: <span class="st">"</span><span class="sc">%.3f</span><span class="st">"</span> <span class="op">%</span> x):</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    display(gdf.groupby([<span class="st">"Variety"</span>]).describe())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th colspan="8" halign="left">Crop</th>
      <th colspan="2" halign="left">Distance</th>
      <th>...</th>
      <th colspan="2" halign="left">ndyi</th>
      <th colspan="8" halign="left">SwathWidth</th>
    </tr>
    <tr>
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
      <th>count</th>
      <th>mean</th>
      <th>...</th>
      <th>75%</th>
      <th>max</th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
    <tr>
      <th>Variety</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>43Y23 RR</th>
      <td>4038.000</td>
      <td>5.000</td>
      <td>0.000</td>
      <td>5.000</td>
      <td>5.000</td>
      <td>5.000</td>
      <td>5.000</td>
      <td>5.000</td>
      <td>4038.000</td>
      <td>2.822</td>
      <td>...</td>
      <td>0.370</td>
      <td>0.518</td>
      <td>0.000</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Ninja</th>
      <td>5340.000</td>
      <td>26.000</td>
      <td>0.000</td>
      <td>26.000</td>
      <td>26.000</td>
      <td>26.000</td>
      <td>26.000</td>
      <td>26.000</td>
      <td>5340.000</td>
      <td>2.179</td>
      <td>...</td>
      <td>0.423</td>
      <td>0.546</td>
      <td>5340.000</td>
      <td>11.805</td>
      <td>1.230</td>
      <td>0.153</td>
      <td>12.000</td>
      <td>12.000</td>
      <td>12.000</td>
      <td>12.000</td>
    </tr>
  </tbody>
</table>
<p>2 rows × 112 columns</p>
</div>
</div>
</div>
<p>This still isn’t a very helpful layout to view the summary statistics as not all of the statistics can be displayed. Let’s transpose the summary statistics so rows become columns and vice versa using the <code>T</code> transpose operator.</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> pd.option_context(<span class="st">"display.max_rows"</span>, <span class="va">None</span>, <span class="st">"display.float_format"</span>, <span class="kw">lambda</span> x: <span class="st">"</span><span class="sc">%.3f</span><span class="st">"</span> <span class="op">%</span> x):</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    display(gdf.loc[:, [<span class="st">"Variety"</span>, <span class="st">"DryYield"</span>, <span class="st">"gndvi"</span>, <span class="st">"ndyi"</span>]].groupby([<span class="st">"Variety"</span>]).describe().T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Variety</th>
      <th>43Y23 RR</th>
      <th>Ninja</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="8" valign="top">DryYield</th>
      <th>count</th>
      <td>4038.000</td>
      <td>5340.000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>0.590</td>
      <td>2.039</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.284</td>
      <td>1.080</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.382</td>
      <td>1.391</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>0.556</td>
      <td>1.990</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>0.771</td>
      <td>2.671</td>
    </tr>
    <tr>
      <th>max</th>
      <td>5.065</td>
      <td>23.124</td>
    </tr>
    <tr>
      <th rowspan="8" valign="top">gndvi</th>
      <th>count</th>
      <td>3834.000</td>
      <td>5048.000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>0.540</td>
      <td>0.686</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.102</td>
      <td>0.133</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.527</td>
      <td>0.669</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>0.557</td>
      <td>0.708</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>0.587</td>
      <td>0.745</td>
    </tr>
    <tr>
      <th>max</th>
      <td>0.683</td>
      <td>0.837</td>
    </tr>
    <tr>
      <th rowspan="8" valign="top">ndyi</th>
      <th>count</th>
      <td>3834.000</td>
      <td>5048.000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>0.328</td>
      <td>0.379</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.076</td>
      <td>0.082</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.298</td>
      <td>0.358</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>0.333</td>
      <td>0.393</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>0.370</td>
      <td>0.423</td>
    </tr>
    <tr>
      <th>max</th>
      <td>0.518</td>
      <td>0.546</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="data-distributions" class="level2">
<h2 class="anchored" data-anchor-id="data-distributions">Data distributions</h2>
<p>The mean tells us the average value for a variable. However, it is susceptible to outliers and extreme values. Therefore, it is important to view the mean and the median (50th percentile) together as the median is not affected by extreme values.</p>
<p>However, neither the mean or the median reveal the spread or distribution of values for a variable. The min and max values tell us what the range of values are for a variable. This can be useful for detecting potential measurement error and noise (e.g.&nbsp;is the max value for wheat yield sensible?).</p>
<p>The inter-quartile range (difference between the 75th and 25th percentile values) tells us how spread out the data is around the median and the standard deviation tells us how spread out the data is around the mean. Assuming a normal distribution, ~68% of the values are within one standard deviation of the mean.</p>
<p>It is often useful to visualise the distribution of variables. A histogram is a common visualisation for distributions. The height of the bars of a histogram correspond to the count of values that fall within the bin. The width of the bar corresponds to the bin width.</p>
<section id="recap-quiz" class="level4">
<h4 class="anchored" data-anchor-id="recap-quiz">Recap quiz</h4>
<details>
<summary>
<b>What is a limitation of using min and max values to represent the distribition of values for a variable?</b>
</summary>
The min and max values can be affected by extreme values and don’t tell us anything about the shape or density of the distribution of data values.
</details>
<p>
</p>
<details>
<summary>
<b>If the standard deviation is small relative to the mean, what does this tell us about the spread of the data?</b>
</summary>
There is not much spread in the data away from the mean.
</details>
<p>
</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.histogram(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    data_frame<span class="op">=</span>gdf, </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"DryYield"</span>, </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    facet_col<span class="op">=</span><span class="st">"Variety"</span>, </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    hover_data<span class="op">=</span>[<span class="st">"DryYield"</span>, <span class="st">"Elevation"</span>, <span class="st">"WetMass"</span>])</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lab-3-self-guided_files/figure-html/cell-9-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>The <code>histogram()</code> function from Plotly Express has a <code>nbins</code> parameter that can be used to specify the number of bins.</p>
</section>
<section id="recap-quiz-1" class="level4">
<h4 class="anchored" data-anchor-id="recap-quiz-1">Recap quiz</h4>
<p><strong>Use the Plotly Express <code>nbins</code> parameter of the <code>histogram()</code> function to change the number bins, and consequently the bin width, and explore how this affects the visualisation of the distribution.</strong></p>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">## add code here ##</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<details>
<summary>
<b>answer</b>
</summary>
<div class="sourceCode" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.histogram(</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    data_frame<span class="op">=</span>gdf, </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"DryYield"</span>, </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    facet_col<span class="op">=</span><span class="st">"Variety"</span>, </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    nbins<span class="op">=</span><span class="dv">5</span>, <span class="co">### CHANGE THIS VALUE</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    hover_data<span class="op">=</span>[<span class="st">"DryYield"</span>, <span class="st">"Elevation"</span>, <span class="st">"WetMass"</span>])</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<details>
<summary>
<b>What happens if you generate a histogram with too large a bin width?</b>
</summary>
You will smooth out variation in the data and will not accurately reflect the shape of the distribution of the data.
</details>
<p>
</p>
<details>
<summary>
<b>What happens if you generate a histogram with too small a bin width?</b>
</summary>
You might not be able to see the dominant shape of the distribution of data values as the histogram could appear “spikey” with local variability in the distribution of values emphasised.
</details>
</section>
</section>
<section id="subsetting-pandas-dataframes" class="level2">
<h2 class="anchored" data-anchor-id="subsetting-pandas-dataframes">Subsetting pandas <code>DataFrame</code>s</h2>
<p>To subset data from a pandas <code>DataFrame</code> we use the square brackets <code>[]</code> to specify the data values we’d like to extract. The <code>[]</code> operator can be thought of as a get item operation.</p>
<p><strong>Selection by labels</strong></p>
<p><em>Selection by labels</em> refers to selecting values from a <code>DataFrame</code> by their label (i.e.&nbsp;column name).</p>
<ul>
<li>To select a column from a <code>DataFrame</code> we pass the column name into <code>[]</code> (e.g.&nbsp;<code>dry_yield = gdf["DryYield"]</code> where <code>dry_yield</code> is a <code>Series</code> object).</li>
<li>To select many columns from a <code>DataFrame</code> we pass a list of column names into <code>[]</code> (e.g.&nbsp;(e.g.&nbsp;<code>df_yield = gdf[["DryYield", "Variety"]]</code> where <code>df_yield</code> is a <code>DataFrame</code> object).</li>
</ul>
<p><strong>Selection by position</strong></p>
<p><em>Selection by position</em> refers to selecting values from a <code>DataFrame</code> by their index position (i.e.&nbsp;row or column number starting at 0).</p>
<ul>
<li>To select the <span class="math inline">\(n^{th}\)</span> row pass in <code>[n-1:n]</code>. Remember that Python indexes from zero so the <span class="math inline">\(n-1\)</span> index position is the <span class="math inline">\(n^{th}\)</span> row. The slice operator <code>:</code> is exclusive so <code>[n-1:n]</code> will only select the row at <code>n-1</code> (e.g.&nbsp;to select the <span class="math inline">\(2^{nd}\)</span> row use <code>df_row_2 = gdf[1:2]</code>).</li>
<li>To select a slice of rows use the slice operator (e.g.&nbsp;to select the first 10 rows use <code>df_10_rows = gdf[0:10]</code>).</li>
</ul>
<p><strong>Selection by condition</strong></p>
<p><em>Selection by condition</em> selects rows that are <code>True</code> based on a condition (e.g.&nbsp;selecting all rows with a <code>DryYield</code> greater than 1.5 - <code>df_yield_gt_1_5 = gdf[gdf["DryYield"] &gt; 1.5]</code>).</p>
<p><strong><code>loc[]</code> and <code>iloc[]</code></strong></p>
<p>The more robust approach to subsetting data from <code>DataFrame</code>s is using the <code>loc</code> and <code>iloc</code> methods, which also support multi-index selection (i.e.&nbsp;selecting rows and columns).</p>
<ul>
<li><code>loc</code> is used for selecting by labels (e.g.&nbsp;<code>df_yield = gdf.loc[:, ["DryYield", "Variety"]]</code> - note the <code>[:, ["DryYield", "Variety"]]</code> syntax where <code>:</code> means select all rows).</li>
<li><code>iloc</code> is used for selecting by position (e.g.&nbsp;to select the first 10 rows use <code>df_10_rows = gdf.iloc[0:10, :]</code>).</li>
<li>To select the first 10 rows and columns we’d use <code>df_10_rows_10_cols = gdf.iloc[0:10, 0:10]</code>).</li>
</ul>
<section id="recap-quiz-2" class="level4">
<h4 class="anchored" data-anchor-id="recap-quiz-2">Recap quiz</h4>
<details>
<summary>
<b>How many rows will the object referenced by <code>df_temp</code> have after calling <code>df_temp=df.iloc[0:5, :]</code>?</b>
</summary>
5 rows at index positions 0 to 4 from the <code>DataFrame</code> <code>df</code>.
</details>
<p>
</p>
<details>
<summary>
<b>How many columns from <code>df</code> will the object referenced by <code>df_temp</code> have after calling <code>df_temp=df.iloc[0:5, :]</code>?</b>
</summary>
All the columns from <code>df</code>.
</details>
<p>
</p>
<p><strong>Use <code>loc</code> and the <code>DataFrame</code> referenced by <code>gdf</code> to select all rows where <code>DryYield</code> is greater than 2.</strong></p>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">## ADD CODE HERE ##</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<details>
<summary>
<b>answer</b>
</summary>
<div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>df_gt_2 <span class="op">=</span> gdf.loc[(gdf[<span class="st">"DryYield"</span>] <span class="op">&gt;</span> <span class="dv">2</span>), :]</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>df_gt_2.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<p>
</p>
<p>These are some useful resources on subsetting pandas <code>DataFrame</code>s:</p>
<ul>
<li>pandas Getting Started: <a href="https://pandas.pydata.org/docs/getting_started/intro_tutorials/03_subset_data.html#how-do-i-select-specific-rows-and-columns-from-a-dataframe" target="_blank">How do I select specific rows and columns from a DataFrame?</a></li>
<li>The first few sections of the pandas docs on <a href="https://pandas.pydata.org/docs/user_guide/indexing.html#selection-by-position" target="_blank">Indexing and selecting data</a></li>
<li>McKinney (2022) Python for Data Analysis - section on <a href="https://pandas.pydata.org/docs/user_guide/indexing.html#selection-by-position" target="_blank">Indexing, selection, and filtering</a></li>
</ul>
</section>
</section>
<section id="outliers" class="level2">
<h2 class="anchored" data-anchor-id="outliers">Outliers</h2>
<p>The majority of data values on the histograms above are concentrated on the far left of the figure. If you zoom in you will see there are a few isolated extreme or outlier yield values, which are masking the dominant pattern of the distribution. Detecting outliers is an important part of exploratory data analysis.</p>
<p>Now that outliers have been detected we need to fix or remove them. A common way to detect outliers is to use a threshold based on percentile or standard deviation values. Here, we’ll say an outlier is any value that is more or less than three standard deviations from the mean.</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Canola</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>df_canola <span class="op">=</span> gdf.loc[gdf[<span class="st">"Variety"</span>] <span class="op">==</span> <span class="st">"43Y23 RR"</span>, :]</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"There are </span><span class="sc">{</span>df_canola<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss"> canola rows BEFORE dropping outliers"</span>)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>df_canola <span class="op">=</span> df_canola.loc[(df_canola[<span class="st">"DryYield"</span>]<span class="op">-</span>df_canola[<span class="st">"DryYield"</span>].mean()).<span class="bu">abs</span>() <span class="op">&lt;</span> (<span class="dv">3</span><span class="op">*</span>df_canola[<span class="st">"DryYield"</span>].std()), :]</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"There are </span><span class="sc">{</span>df_canola<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss"> canola rows AFTER dropping outliers"</span>)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Wheat</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>df_wheat <span class="op">=</span> gdf.loc[gdf[<span class="st">"Variety"</span>] <span class="op">==</span> <span class="st">"Ninja"</span>, :]</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"There are </span><span class="sc">{</span>df_wheat<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss"> wheat rows BEFORE dropping outliers"</span>)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>df_wheat <span class="op">=</span> df_wheat.loc[(df_wheat[<span class="st">"DryYield"</span>]<span class="op">-</span>df_wheat[<span class="st">"DryYield"</span>].mean()).<span class="bu">abs</span>() <span class="op">&lt;</span> (<span class="dv">3</span><span class="op">*</span>df_wheat[<span class="st">"DryYield"</span>].std()), :]</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"There are </span><span class="sc">{</span>df_wheat<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss"> wheat rows AFTER dropping outliers"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>There are 4038 canola rows BEFORE dropping outliers
There are 4031 canola rows AFTER dropping outliers
There are 5340 wheat rows BEFORE dropping outliers
There are 5334 wheat rows AFTER dropping outliers</code></pre>
</div>
</div>
<section id="recap-quiz-3" class="level4">
<h4 class="anchored" data-anchor-id="recap-quiz-3">Recap quiz</h4>
<details>
<summary>
<b>Is <code>df_canola = gdf.loc[gdf[“Variety”] == “43Y23 RR”, :]</code> an example of <em>selection by condition</em> or <em>selection by position</em>?</b>
</summary>
Selection by condition. Here, we’re using a logical condition that evaluates to <code>True</code> for all rows where the value in the <code>Variety</code> column is <code>43Y23 RR</code>.
</details>
<p>
</p>
<details>
<summary>
<b>What is the <code>abs()</code> function being used for in the conditional selection of rows whose <code>DryYield</code> value is more / less than three standard deviations from the mean?</b>
</summary>
<code>abs()</code> returns the absolute numeric value (so -2 would be returned as 2). This converts all negative deviations from the mean to positive and allows us to test for rows less than 3 standard deviations from the mean and select all rows within three standard deviations of the mean.
</details>
<p>
</p>
<details>
<summary>
<b>What is the <a href="https://pandas.pydata.org/docs/reference/api/pandas.concat.html" target="_blank">pandas <code>concat()</code></a> function used for?</b>
</summary>
To combine (concatenate) <code>DataFrames</code> along an axis. Here, we specify the 0 axis which refers to rows to stack two <code>DataFrame</code>s on top of each other.
</details>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># combine filtered dfs</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>gdf_clean <span class="op">=</span> pd.concat([df_canola, df_wheat], axis<span class="op">=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.histogram(</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    data_frame<span class="op">=</span>gdf_clean, </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"DryYield"</span>, </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    facet_col<span class="op">=</span><span class="st">"Variety"</span>, </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    marginal<span class="op">=</span><span class="st">"box"</span>, </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    hover_data<span class="op">=</span>[<span class="st">"DryYield"</span>, <span class="st">"Elevation"</span>, <span class="st">"WetMass"</span>])</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lab-3-self-guided_files/figure-html/cell-14-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>Instead of dropping rows where there are extreme crop yield values, we can also replace outlier values with a more sensible value such as the mean.</p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>mean_yield <span class="op">=</span> gdf.loc[:, [<span class="st">"Variety"</span>, <span class="st">"DryYield"</span>]].groupby([<span class="st">"Variety"</span>]).mean()</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>mean_yield</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>DryYield</th>
    </tr>
    <tr>
      <th>Variety</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>43Y23 RR</th>
      <td>0.589902</td>
    </tr>
    <tr>
      <th>Ninja</th>
      <td>2.038738</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>df_canola <span class="op">=</span> gdf.loc[gdf[<span class="st">"Variety"</span>] <span class="op">==</span> <span class="st">"43Y23 RR"</span>, :]</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>df_canola.loc[(df_canola[<span class="st">"DryYield"</span>]<span class="op">-</span>df_canola[<span class="st">"DryYield"</span>].mean()).<span class="bu">abs</span>() <span class="op">&gt;</span> (<span class="dv">3</span><span class="op">*</span>df_canola[<span class="st">"DryYield"</span>].std()), <span class="st">"DryYield"</span>] <span class="op">=</span> mean_yield.iloc[<span class="dv">0</span>, <span class="dv">0</span>]</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>df_wheat <span class="op">=</span> gdf.loc[gdf[<span class="st">"Variety"</span>] <span class="op">==</span> <span class="st">"Ninja"</span>, :]</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>df_wheat.loc[(df_wheat[<span class="st">"DryYield"</span>]<span class="op">-</span>df_wheat[<span class="st">"DryYield"</span>].mean()).<span class="bu">abs</span>() <span class="op">&gt;</span> (<span class="dv">3</span><span class="op">*</span>df_wheat[<span class="st">"DryYield"</span>].std()), <span class="st">"DryYield"</span>] <span class="op">=</span> mean_yield.iloc[<span class="dv">1</span>, <span class="dv">0</span>]</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co"># combine filtered dfs</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>gdf_replaced <span class="op">=</span> pd.concat([df_canola, df_wheat], axis<span class="op">=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.histogram(</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    data_frame<span class="op">=</span>gdf_replaced, </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"DryYield"</span>, </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    facet_col<span class="op">=</span><span class="st">"Variety"</span>, </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    marginal<span class="op">=</span><span class="st">"box"</span>, </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    hover_data<span class="op">=</span>[<span class="st">"DryYield"</span>, <span class="st">"Elevation"</span>, <span class="st">"WetMass"</span>])</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lab-3-self-guided_files/figure-html/cell-17-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>Looking at the wheat yield histogram we can see there are a large number of zero or close to zero values. This is another strange artefact in the distribution of our data values. Are zero crop yield values actually no crop yield from the plant or a source of measurement error or other noise? If the latter, we should remove these noisy values.</p>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>df_canola <span class="op">=</span> gdf_clean.loc[gdf_clean[<span class="st">"Variety"</span>] <span class="op">==</span> <span class="st">"43Y23 RR"</span>, :]</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The number of canola observations with yield values of zero or less is: </span><span class="sc">{</span>(df_canola[<span class="st">'DryYield'</span>] <span class="op">&lt;=</span> <span class="dv">0</span>)<span class="sc">.</span><span class="bu">sum</span>()<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>df_wheat <span class="op">=</span> gdf_clean.loc[gdf_clean[<span class="st">"Variety"</span>] <span class="op">==</span> <span class="st">"Ninja"</span>, :]</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The number of wheat observations with yield values of zero or less is: </span><span class="sc">{</span>(df_wheat[<span class="st">'DryYield'</span>] <span class="op">&lt;=</span> <span class="dv">0</span>)<span class="sc">.</span><span class="bu">sum</span>()<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The number of canola observations with yield values of zero or less is: 13
The number of wheat observations with yield values of zero or less is: 140</code></pre>
</div>
</div>
<p>Above, when setting the outlier values to their mean value, we demonstrated how can use <code>loc</code> on the left hand side of an expression to determine which values are set.</p>
<p>Here, all rows in <code>df_canola</code> with a value more / less than three standard deviations from the mean are set to the mean value.</p>
<p><code>df_canola.loc[(df_canola["DryYield"]-df_canola["DryYield"].mean()).abs() &gt; (3*df_canola["DryYield"].std()), "DryYield"] = mean_yield.iloc[0, 0]</code></p>
</section>
<section id="recap-quiz-4" class="level4">
<h4 class="anchored" data-anchor-id="recap-quiz-4">Recap quiz</h4>
<p><strong>We’re going to drop zero <code>DryYield</code> values as these values are noisy. Can you use a <em>selection by condition</em> operation to subset the <code>GeoDataFrame</code> <code>gdf_clean</code> to select only rows where <code>DryYield</code> is greater than zero?</strong></p>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Add code here ##</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<details>
<summary>
<b>answer</b>
</summary>
<div class="sourceCode" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Shape of DataFrame before dropping zero yield values:"</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(gdf_clean.shape)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>gdf_dropped_zero <span class="op">=</span> gdf_clean.loc[gdf_clean[<span class="st">"DryYield"</span>] <span class="op">&gt;</span> <span class="dv">0</span>, :]</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Shape of DataFrame after dropping zero yield values:"</span>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(gdf_dropped_zero.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<p>
</p>
<p><strong>Can you generate a histogram visualising the distribution of <code>DryYield</code> values after dropping zero values? Use the <code>Variety</code> column to generate faceted subplots for each wheat and canola.</strong></p>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">## ADD CODE HERE ##</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<details>
<summary>
<b>answer</b>
</summary>
<div class="sourceCode" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.histogram(</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    data_frame<span class="op">=</span>gdf_dropped_zero, </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"DryYield"</span>, </span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    facet_col<span class="op">=</span><span class="st">"Variety"</span>, </span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    marginal<span class="op">=</span><span class="st">"box"</span>, </span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    hover_data<span class="op">=</span>[<span class="st">"DryYield"</span>, <span class="st">"Elevation"</span>, <span class="st">"WetMass"</span>])</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<p>After removing zero values the distribution of our crop yield values should look more sensible and relatively normally distributed.</p>
</section>
<section id="d-histograms" class="level3">
<h3 class="anchored" data-anchor-id="d-histograms">2D histograms</h3>
<p>We can use 2D histograms or density heatmaps to look at the distribution of two variables together. 2D hisograms are a useful complement to scatter plots when you have a large number of observations. Here, colour is used to represent the distribution of data values as opposed to the height of rectangular bars on a histogram.</p>
<p>Let’s create 2D histograms to visualise the relationship between vegetation indices and canola crop yield. Note, you’ll need to have completed the recap quiz above to generate <code>gdf_dropped_zero</code>.</p>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.density_heatmap(</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    data_frame<span class="op">=</span>gdf_dropped_zero.loc[gdf_dropped_zero[<span class="st">"Variety"</span>] <span class="op">==</span> <span class="st">"43Y23 RR"</span>, :], </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"DryYield"</span>, </span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"gndvi"</span>, </span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    marginal_x<span class="op">=</span><span class="st">"box"</span>, </span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    marginal_y<span class="op">=</span><span class="st">"box"</span>,</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    range_y<span class="op">=</span>[<span class="fl">0.4</span>, <span class="fl">0.8</span>])</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lab-3-self-guided_files/figure-html/cell-21-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.density_heatmap(</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    data_frame<span class="op">=</span>gdf_dropped_zero.loc[gdf_dropped_zero[<span class="st">"Variety"</span>] <span class="op">==</span> <span class="st">"43Y23 RR"</span>, :], </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"DryYield"</span>, </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"ndyi"</span>, </span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    marginal_x<span class="op">=</span><span class="st">"box"</span>, </span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    marginal_y<span class="op">=</span><span class="st">"box"</span>,</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    range_y<span class="op">=</span>[<span class="fl">0.1</span>, <span class="fl">0.5</span>])</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lab-3-self-guided_files/figure-html/cell-22-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="violin-plots" class="level3">
<h3 class="anchored" data-anchor-id="violin-plots">Violin plots</h3>
<p>One of the limits of using histograms to visualise distributions is the size of the bins affects the distribution of data values. An alternative approach to visualising a distribution is to use a violin plot.</p>
<p>Violin plots use density and box plots to visualise distributions, which look similar to violins. The density is the probability of an observation taking on a certain value and is plotted as a smooth curve. Areas where the curve is fatter indicate a higher probability that an observation will take that value. Box plots display the 25th, 50th, and 75th percentile values.</p>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.violin(</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    gdf_dropped_zero, </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"DryYield"</span>, </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"Variety"</span>, </span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"Variety"</span>, </span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    box<span class="op">=</span><span class="va">True</span>, </span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    points<span class="op">=</span><span class="st">"outliers"</span>, </span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    hover_data<span class="op">=</span>[<span class="st">"DryYield"</span>, <span class="st">"gndvi"</span>])</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="lab-3-self-guided_files/figure-html/cell-23-output-1.png" class="img-fluid"></p>
</div>
</div>
<section id="recap-quiz-5" class="level4">
<h4 class="anchored" data-anchor-id="recap-quiz-5">Recap quiz</h4>
<p><strong>Can you create violin plots to visualise the GNDVI and NDYI values for each crop type?</strong></p>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co">## ADD GNDVI VIOLIN PLOT CODE HERE ##</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<details>
<summary>
<b>answer</b>
</summary>
<div class="sourceCode" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.violin(</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    gdf_dropped_zero, </span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"gndvi"</span>, </span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"Variety"</span>, </span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"Variety"</span>, </span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>    box<span class="op">=</span><span class="va">True</span>, </span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>    points<span class="op">=</span><span class="st">"outliers"</span>, </span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>    hover_data<span class="op">=</span>[<span class="st">"DryYield"</span>, <span class="st">"gndvi"</span>])</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">## ADD NDYI VIOLIN PLOT CODE HERE ##</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<details>
<summary>
<b>answer</b>
</summary>
<div class="sourceCode" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.violin(</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    gdf_dropped_zero, </span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"ndyi"</span>, </span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"Variety"</span>, </span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"Variety"</span>, </span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>    box<span class="op">=</span><span class="va">True</span>, </span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    points<span class="op">=</span><span class="st">"outliers"</span>, </span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    hover_data<span class="op">=</span>[<span class="st">"DryYield"</span>, <span class="st">"ndyi"</span>])</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./lab-3.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-title">Week 3</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./lab-3-practice-exercises.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-title">Week 3 (practice)</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>